(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1df6a00a"],{"0cda":function(t,i,n){},"5bee":function(t,i,n){"use strict";n("0cda")},d2be:function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"search"},[n("div",{staticClass:"nav"},[n("div",{staticClass:"nav-v"},[n("van-icon",{attrs:{name:"arrow-left",color:"#1989fa"}}),n("span",{on:{click:t.back}},[t._v(" 返回 ")])],1),n("div",{staticClass:"logo"},[t._v("乐居")])]),n("van-search",{attrs:{"show-action":"",placeholder:"商品搜索"},on:{cancel:t.onCancel,input:t.iptEvents},model:{value:t.iptVal,callback:function(i){t.iptVal="string"===typeof i?i.trim():i},expression:"iptVal"}}),"default"==t.current?n("van-row",{staticClass:"default",attrs:{type:"flex",justify:"space-start"}},[n("div",{staticClass:"sous"},[n("div",[t._v("历史记录")]),n("div",{on:{click:t.shanchu}})]),n("ul",t._l(t.list.historyData,(function(i){return n("li",{key:i.id,on:{click:function(n){return t.showGoods(i.keyword)}}},[t._v(" "+t._s(i.keyword)+" ")])})),0)]):t._e(),"default"==t.current?n("van-row",{staticClass:"default",attrs:{type:"flex"}},[n("div",{staticClass:"soust"},[n("div",[t._v("热门搜索")])]),n("ul",t._l(t.list.hotKeywordList,(function(i){return n("li",{key:i.id,on:{click:function(n){return t.showGoods(i.keyword)}}},[t._v(" "+t._s(i.keyword)+" ")])})),0)]):"notice"==t.current?n("div",{staticClass:"notice"},[n("ul",t._l(t.noticeList,(function(i){return n("li",{key:i.id,on:{click:function(n){return t.showGoods(i.name)}}},[t._v(" "+t._s(i.name)+" ")])})),0)]):n("div",{staticClass:"goods"},[n("div",{staticClass:"goods-c"},[n("div",[t._v("综合")]),n("div",{attrs:{id:"price"},on:{click:t.sortPrice}},[n("div",{class:"goods"==t.current?"":"on"},[t._v("价格")]),n("div",{staticClass:"iconBox"},[n("van-icon",{attrs:{color:"up"==t.current?"red":"",name:"arrow-up"}}),n("van-icon",{attrs:{color:"down"==t.current?"red":"",name:"arrow-down"}})],1)]),n("div",[t._v("分类")])]),n("div",{staticClass:"good"},t._l(t.goodsList,(function(i){return n("div",{key:i.id,staticClass:"good-v",on:{click:function(n){return t.xiangqing(i.id)}}},[n("img",{attrs:{src:i.list_pic_url,alt:""}}),n("p",[t._v(t._s(i.name))]),n("p",[t._v("￥"+t._s(i.retail_price))])])})),0)])],1)},o=[],r=n("0c6d");function s(t){return Object(r["a"])({method:"get",url:"/search/indexaction",params:t})}function a(t){return Object(r["a"])({method:"get",url:"/search/helperaction",params:t})}function c(t){return Object(r["a"])({method:"post",url:"/search/addhistoryaction",data:t})}function d(t){return Object(r["a"])({method:"post",url:"/search/clearhistoryAction",data:t})}var u={data:function(){return{list:[],current:"default",iptVal:"",noticeList:[],goodsList:[],order:"",keyword:[]}},methods:{back:function(){this.$route.query.enterPath;this.$router.push("/home")},onCancel:function(){this.$router.push("/home")},init:function(){var t=this;s({openId:localStorage.getItem("openId")}).then((function(i){t.list=i}))},iptEvents:function(){var t=this;this.iptVal?(this.current="notice",a({keyword:this.iptVal,order:""}).then((function(i){t.noticeList=i.keywords}))):this.current="default"},showGoods:function(t){var i=this;this.current="goods",c({keyword:t,openId:localStorage.getItem("openId")}),a({keyword:t,order:""}).then((function(t){i.goodsList=t.keywords,i.init()})),this.keyword=t},sortPrice:function(){var t=this;"default"==this.current?(this.current="up",this.order="asc"):"up"==this.current?(this.current="down",this.order="desc"):(this.current="up",this.order="asc"),a({keyword:this.keyword,order:this.order}).then((function(i){t.goodsList=i.keywords}))},shanchu:function(){var t=this;d({openId:localStorage.getItem("openId")}).then((function(i){t.init()}))},xiangqing:function(t){this.$router.push({path:"/details",query:{id:t}})}},created:function(){this.init()}},l=u,h=(n("5bee"),n("2877")),v=Object(h["a"])(l,e,o,!1,null,"5b45c0ef",null);i["default"]=v.exports}}]);
//# sourceMappingURL=chunk-1df6a00a.09451bcb.js.map